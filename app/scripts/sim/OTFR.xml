
<application>
	<name>OTFR Sim</name>

    <dependencies>
        <port>/icub/camcalib/right/out</port>
    </dependencies>

    <!-- Modules -->
    
    <module>
        <name>yarpdataplayer</name>  
        <node>localhost</node>
        <tag>yarpdataplayer</tag>
    </module>
    
    <module>
        <name>managerOnTheFly_iCubWorld</name>  
		<parameters>--name otfr --observe_human_time_classify 20</parameters>             
        <node>localhost</node>
        <tag>manager</tag>
    </module>

    <module>
        <name>yarpview</name>
        <parameters>--name /view/icub/camcalib/right/out</parameters>
        <node>localhost</node>
        <tag>camera_viewer</tag>
    </module>
    
    <module>
        <name>yarpdatadumper</name>
        <parameters>--name /dump/events</parameters>
        <node>localhost</node>
        <tag>datadumper</tag>
    </module>
	
    <!-- Connections -->

    <!-- Coding -->
	
    <connection>
        <from>/icub/camcalib/right/out</from>
        <to>/otfr/img:i</to>
        <protocol>mcast</protocol>
    </connection>

    <connection>
        <from>/motionCUT/right/blobs:o</from>
        <to>/otfr/blobs:i</to>
        <protocol>mcast</protocol>
    </connection>

	<!-- Rpc -->
	
	<connection>
        <from>/otfr/are/cmd:io</from>
        <to>/are/cmd</to>
        <protocol>tcp</protocol>
    </connection>
    
    <connection>
        <from>/otfr/are/get:io</from>
        <to>/are/get</to>
        <protocol>tcp</protocol>
    </connection>
    
    <connection>
        <from>/otfr/classifier:io</from>
        <to>/clas/rpc</to>
        <protocol>tcp</protocol>
    </connection>

	<!-- Visualization -->
	
    <connection>
        <from>/icub/camcalib/right/out</from>
        <to>/view/icub/camcalib/right/out</to>
        <protocol>mcast</protocol>
    </connection>
    
    <!-- Datadump -->
    <connection>
        <from>/otfr/events:o</from>
        <to>/dump/events</to>
        <protocol>mcast</protocol>
    </connection>
		
</application>

